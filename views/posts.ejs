<%- include('partials/header') %>
	<div class='centerAll'>
		<div class='titlePost'>
			<h1>Posts</h1>
			<div>
				<button class='btn btn-primary' data-bs-toggle='modal' data-bs-target='#addPostModal'>
					Add Post+
				</button>
			</div>
		</div>
		<div class="flex-item">
			<ul class='dotRemover'>
				<% posts.forEach( el=> { %>
					<li class="postItem" data-id="<%=el._id%>" id="spacing">
						<div class="card" style="width: 18rem;">
							<a href='/posts/<%= el._id %>'>
								<img src="<%= el.image %>" class="card-img-top" alt="...">
							</a>
							<div class="card-body">
								<h5 class="card-title">Title: <%= el.title %>
								</h5>
								<h6 class="card-title">Username: <a href="/posts/user/<%= el.user.id %>">
										<%= el.user.userName %>
									</a>
								</h6>

								<p class='card-text'>
									Caption: <%= el.caption %>
								</p>
								<p class="card-text" class="likes">Likes: <%= el.likes%>
								</p>
							</div>
							<div class='card-footer'>
								<button type="button" class="btn btn-primary like">like</button>
								<% if(el.user.id==user.id) { %>
									<button type="button" class="btn btn-danger del">Delete</button>
									<% } %>
							</div>
						</div>



					</li>
					<% }) %>
			</ul>

			<div class='modal' id='addPostModal' tabindex="-1">
				<div class='modal-dialog modal-dialog-centered'>
					<div class='modal-content'>
						<div class='modal-header'>
							<h5 class='modal-title'>Enter Post Information</h5>
							<button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>
						</div>
						<div class='modal-body'>
							<form class='form' action='/posts/createPost' method="POST" enctype="multipart/form-data">
								<div class='form-group'>
									<label for='title'>Title</label>
									<input type='text' placeholder='Project title' name='title' id='title' />
								</div>
								<div class='form-group'>
									<label for='image'>Image</label>
									<input type="file" id='imageUpload' name='file'>
								</div>
								<div class='form-group'>
									<label for='caption'>Caption</label>
									<textarea id='caption' name='caption' rows='5' cols='30'></textarea>
								</div>
								
								<input type='submit' value='Submit'>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<%- include('partials/footer') %>